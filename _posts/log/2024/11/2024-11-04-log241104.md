---
layout: post
title: ' 전환 값이 두배! '
subtitle: ' 2024년 11월 4일 월요일 '
catalog: true
category: log
subcategory: weekly
tags:
  - log
  - weekly
  - november
  - 2024

---

# Today I Learned

## 날짜

2024년 11월 4일 월요일

## 내용

### 전환값이 두배!

 전환 관련 데이터들의 오차를 해결중이다. 어떤 경우에는 실제 값보다 적고, 어떤 경우에는 실제 값보다 많다. 한마디로 엉망진창. 심지어 누락되는 경우도 있다. 혹시나 해서 살펴보니, 역시나 일부 키워드가 데이터베이스에 저장되어 있지 않은 경우였다. 캠페인과 광고그룹은 없을 경우 네이버에서 받아오도록 해놨는데 키워드는 안해놨더니.. 

 누락되는 부분은 없앴는데 이젠 전환 데이터가 정확히 2배가 들어온다. 한참을 찾은 끝에 원인을 찾았는데,

1. 필요한 보고서를 생성한다.
2. 현재 생성되어 있는 모든 보고서를 다운로드받는다.

라는 로직에서 발생한 문제였다. 네이버에선 보고서를 최대 100개 까지 동시에 저장할 수 있었다. 그래서 난 그동안 보고서를 딱 100개씩 만들어서 다운로드받았다. 그 이상 보고서를 생성하면 자동으로 가장 오래된 보고서가 삭제되는 방식이라… 

이 부분을 수정하면서 발생했다. 1에서 50개를 만들고, 2에서 다운로드 받은 후 다시 1 로직으로 이동하면 네이버에는 총 100개의 보고서가 있다. 다시 2번으로 넘어가면 100개의 보고서를 다운로드받은다. 이전 반복문때 다운로드 받은 50개가 또 다운로드 받아지면서 값이 정확히 2배가 됐다.

## 회고

해결해도 끊임없이 오차가 발생한다!