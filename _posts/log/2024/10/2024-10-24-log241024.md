---
layout: post
title: ' 알림톡에 링크 추가 '
subtitle: ' 2024년 10월 24일 목요일 '
catalog: true
category: log
subcategory: weekly
tags:
  - log
  - weekly
  - october
  - 2024
  - 알림톡

---

# Today I Learned

## 날짜

2024년 10월 24일 목요일

## 내용

### 알림톡에서 손님받기

알림톡에는 3가지 링크가 포함된다. 완성된 배너이미지 보러 가는것, 다운로드 받기, 삭제하기 버튼이다. 해당 버튼을 누르면 기존 어드민과는 별개의 페이지로 이동하고 해당 액션을 취할 수 있다. 그 내부에서 처리하는 건 이미 존재햐는 기능이라, 버튼을 누르면 서버 엔드포인트로 요청을 보내도록 구현할 수도 있겠으나, 그 요청을 검증해야 한다고 생각했다. 리소스를 건드리는 작업인 만큼, 권한이 있는 클라이언트의 요청임을 확인하고 싶었다.

1. 버튼을 누르면, 하고자 하는 행동과 jwt 토큰이 path로 포함된 채 이동한다.
2. 클라이언트에선 jwt 토큰을 서버로 보내 검증을 요청한다.
3. 서버는 토큰이 올바르다면, 필요한 유저정보 (서비스 ID, 액세스 토큰, 플랫폼)와 배너이미지의 ID를 반환한다.
4. 토큰이 올바르지 않다면 웬놈이냐며 쫒아낸다.

만약 이 과정이 없었다면 ID만 알아도 URL로 접근해 남의 리소스를 처리할 수 있을수도 있다.

## 회고

QA가 잘 진행된다. 어쩐지 이번엔 꽤 잘 만든듯 했다.