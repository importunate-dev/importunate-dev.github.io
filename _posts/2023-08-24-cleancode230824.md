---
layout: post
title: " Cleancode 230824 "
subtitle: " 시스템(1) "
catalog: true
category: study
subcategory: cleancode
tags:
  - study
  - cleancode
  - 책너두
  - 시스템
  - 영속성
  - 관심사
  - 횡단 관심사
---

# 책너두 5기 22일차

로버트 C. 마틴의 **클린코드** p.198 ~ p.205

# 내용 정리

## 11. 시스템

### 시스템 제작과 시스템 사용을 분리하라

#### Main 분리

시스템 생성과 시스템 사용을 분리하는 방법 중 하나는, 생성과 관련한 코드는 모두 main이나 main이 호출하는ㄴ 모듈로 옮기고, 나머지 시스템은 모든 객체가 생성되었고 모든 의존성이 연결되었다고 가정하는 것이다.

#### 팩토리

때로는 객체가 생성되는 **시점**을 애플리케이션이 결정할 필요도 생긴다.

#### 의존성 주입

의존성 주입(Dependency Injection)은 제어 역전(Inversion of Control, IoC) 기법을 의존성 관리에 적용한 메커니즘이다. 제어 역전에서는 한 객체가 맡은 보조 책임을 새로운 객체에레 전적으로 떠넘긴다. 새로운 객체는 넘겨받은 책임만 맡으므로 단일 책임의 원칙을 지키게 된다. 초기 설정은 시스템전체에서 필요하므로 대개 '책임질' 메커니즘으로 'main' 루틴이나 특수 **컨테이너**를 사용한다.

### 확장

'처음부터 올바르게' 시스템을 만들 수 있다는 믿음은 미신이다. 오늘 주어진 사용자 스토리에 맞춰 시스템을 구현하고, 내일은 새로운 스토리에 맞춰 시스템을 조정하고 확장하면 된다. 이것이 반복적이고 점진적인 애자일 방식의 핵심이다.

#### 횡단(cross-cutting) 관심사

영속성과 같은 **관심사**는 애플리케이션의 자연스러운 객체 경계를 넘나드는 경향이 있다. 모든 객체가 전반적으로 동일한 방식을 이용하게 만들어야 한다. 원론적으로 모듈화되고 캡슐화된 방식으로 영속적 방식을 구상할 수 있다. 하지만 현실적으로는 영속성 방식을 구현한 코드가 온갖 객체로 흩어진다.

AOP(Aspect-Oriented Programming, 관점 지향 프로그래밍)는 횡단 관심사에 대처해 모듈성을 확보하는 일반적인 방법론이다. AOP에서 **관점(aspect)**이라는 모듈 구성 개념은 "특정 관심사를 지원하려면 시스템에서 특정 지점들이 동작하는 방식을 일관성 있게 바꿔야 한다"라고 명시한다. 명시는 간결한 선언이나 프로그래밍 메커니즘으로 수행한다.

영속성에선, 프로그래머는 영속적으로 저장할 객체와 속성을 선언한 후 영속성 책임을 영속성 프레임워크에 위임한다. 그러면 AOP 프레임워크는 대상 코드에 영향을 미치지 않는 상태로 동작 방식을 변경한다. 다음은 자바에서 사용하는 관점 혹은 관점과 유사한 메커니즘이다.

### 자바 프록시

단순환 상황에 적합하다. 개별 객체나 클래스에서 메서드 호출을 감싸는 경우가 좋은 예다.

# 읽고나서

오늘 모르는 단어가 너무 많다! 따라서 아래에 열심히 정리해보았다.

# 오늘 배운 것

## 영속성(persistence)

데이터를 생성한 프로그램의 실행이 종료되더라도 사라지지 않는 데이터의 특성을 의미한다. 영속성은 파일 시스템, 관계형 데이터베이스 혹은 객체 데이터베이스 등을 활용하여 구현한다.

## 관심사(concern)

컴퓨터 프로그램의 코드에 영향을 미치는 특정한 정보 집합

## 횡단 관심사(cross-cutting concerns)

다른 관심사에 영향을 미치는 프로그램의 애스펙트. 이 관심사들은 디자인과 구현 면에서 시스템의 나머지 부분으로부터 깨끗이 분해되지 못하는 경우가 있을 수 있으며 분산(코드 중복)되거나 얽히는(시스템 간의 상당한 의존성 존재) 일이 일어날 수 있다.
